@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styling for elements that contain the embed */
.fullscreen-mode-active {
  /* This class is now primarily for context on the parent div, not direct styling of the embed itself */
}

/* Styles for when the embed container itself is in fullscreen */
#embed-container:fullscreen,
#embed-container:-webkit-full-screen,
#embed-container:-moz-full-screen,
#embed-container:-ms-fullscreen {
  background-color: black; /* Or any background color for the fullscreen mode */
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0;
  margin: 0;
  width: 100vw;
  height: 100vh;
  /* Ensure no border/shadow from parent when fullscreen */
  border-radius: 0 !important;
  border: none !important;
  box-shadow: none !important;
}

#embed-container:fullscreen iframe,
#embed-container:-webkit-full-screen iframe,
#embed-container:-moz-full-screen iframe,
#embed-container:-ms-fullscreen iframe {
  width: 100%;
  height: 100%;
  max-width: 100%; /* Ensure it doesn't overflow */
  max-height: 100%; /* Ensure it doesn't overflow */
  object-fit: contain; /* Adjust as needed: 'cover' for fill, 'contain' for letterboxing */
}

/* Existing fullscreen styles for the overall page layout on mobile, if still needed */
/* This handles the overlaying of the whole section */
.fullscreen-active {
  position: fixed; /* Fix the main grid layout wrapper */
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 9998; /* Below embed container's z-index */
  background-color: var(--color-background); /* Use your app's background color */
  overflow: hidden;
}

.fullscreen-container {
  position: absolute; /* Position relative to .fullscreen-active */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999; /* Ensure it's on top of .fullscreen-active */
  background-color: transparent !important; /* Managed by embed-container:fullscreen */
  display: flex;
  flex-direction: column;
  padding: 0 !important;
  margin: 0 !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

/* Ensure the iframe itself always fills its direct container */
#embed-container {
  display: flex; /* Use flex to easily center/fill content */
  justify-content: center;
  align-items: center;
}

#embed-container iframe {
  position: relative; /* Changed from absolute to relative to be managed by flex container */
  width: 100%;
  height: 100%;
  display: block;
  border: none;
}

/* Thêm/Cập nhật quy tắc cho chế độ Fullscreen giả lập (áp dụng cho Mobile) */
.fullscreen-mode-active {
  position: fixed; /* Cố định vị trí */
  top: 0;
  left: 0;
  width: 100vw; /* Chiếm toàn bộ chiều rộng viewport */
  height: 100vh; /* Chiếm toàn bộ chiều cao viewport */
  z-index: 9999; /* Đảm bảo hiển thị trên cùng */
  margin: 0 !important;
  padding: 0 !important; /* Xóa padding p-6/p-8 của Tailwind */
  border-radius: 0 !important;
  box-shadow: none !important;
  overflow: hidden; /* Ngăn cuộn cho phần tử cha này */
  /* Sử dụng màu nền tối nếu cần, tùy thuộc vào thiết kế của bạn */
  background-color: black; 
}

/* Đảm bảo #embed-container bên trong nó lấp đầy không gian mới */
.fullscreen-mode-active #embed-container {
  width: 100%;
  height: 100%;
  min-height: auto !important; /* Xóa min-height: 600px */
  border-radius: 0 !important;
  border: none !important;
  box-shadow: none !important;
  /* CRUCIAL: Đặt overflow: auto cho #embed-container nếu iframe không tự cuộn */
  /* Tuy nhiên, tốt nhất là để iframe tự cuộn. */
}

/* Đảm bảo iframe vẫn lấp đầy container cha */
.fullscreen-mode-active .iframe-container {
  width: 100%;
  height: 100%;
}

/* Đảm bảo iframe bên trong .fullscreen-mode-active lấp đầy 100% */
.fullscreen-mode-active .iframe-embed {
  width: 100%;
  height: 100%;
}
